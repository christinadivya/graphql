"use strict";(self.webpackChunk_bull_board_ui=self.webpackChunk_bull_board_ui||[]).push([["src_components_RedisStatsModal_RedisStatsModal_tsx"],{742:(e,t,i)=>{i.r(t),i.d(t,{RedisStatsModal:()=>p});var n=i(2867);const a=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],l=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],r=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],o=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],m=(e,t,i)=>{let n=e;return"string"==typeof t||Array.isArray(t)?n=e.toLocaleString(t,i):!0!==t&&void 0===i||(n=e.toLocaleString(void 0,i)),n};function s(e,t){if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);const i=(t={bits:!1,binary:!1,...t}).bits?t.binary?o:r:t.binary?l:a;if(t.signed&&0===e)return` 0 ${i[0]}`;const n=e<0,s=n?"-":t.signed?"+":"";let c;if(n&&(e=-e),void 0!==t.minimumFractionDigits&&(c={minimumFractionDigits:t.minimumFractionDigits}),void 0!==t.maximumFractionDigits&&(c={maximumFractionDigits:t.maximumFractionDigits,...c}),e<1)return s+m(e,t.locale,c)+" "+i[0];const u=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),i.length-1);return e/=(t.binary?1024:1e3)**u,c||(e=e.toPrecision(3)),s+m(Number(e),t.locale,c)+" "+i[u]}var c=i(2784),u=i(6707),d=i(3081),b=i(2331),v=i(6277),E=i(7445),g=i(2378),y=function(e){var t=e.open,i=e.title,n=e.onClose,a=e.children,l=e.width,r=e.actionButton;return c.createElement(b.fC,{open:t,modal:!0,onOpenChange:function(e){e||n()}},c.createElement(b.h_,null,c.createElement(b.aV,{className:g.Z.overlay}),c.createElement(b.VY,{className:g.Z.contentWrapper},c.createElement("div",{className:(0,v.Z)(g.Z.content,g.Z[l||""])},!!i&&c.createElement(b.Dx,null,i),c.createElement(b.dk,{asChild:!0},c.createElement("div",{className:g.Z.description},a)),c.createElement("div",{className:g.Z.actions},r,c.createElement(b.x8,{asChild:!0},c.createElement(E.z,{theme:"basic"},"Close")))))))};var p=function(e){var t=e.open,i=e.onClose,a=(0,c.useState)(null),l=(0,n.Z)(a,2),r=l[0],o=l[1],m=(0,u.h)();if((0,d.Y)((function(){return m.getStats().then((function(e){return o(e)}))}),5e3),!r)return null;var b,v,E=[{title:"Memory usage",value:c.createElement(c.Fragment,null,r.memory.total&&r.memory.used?c.createElement("small",null,s(r.memory.used)," of ",s(r.memory.total)):c.createElement("small",{className:"error"},"Could not retrieve memory stats"),(b=r.memory.used,v=r.memory.total,void 0===b?"-":void 0===v?s(b):"".concat((b/v*100).toFixed(2),"%")))},{title:"Peak memory usage",value:s(r.memory.peak)},{title:"Fragmentation ratio",value:r.memory.fragmentationRatio},{title:"Connected clients",value:r.clients.connected},{title:"Blocked clients",value:r.clients.blocked},{title:"Version",value:r.version},{title:"Mode",value:r.mode},{title:"OS",value:r.os},{title:"Up time",value:r.uptime}];return c.createElement(y,{width:"small",open:t,onClose:i,title:"Redis details"},c.createElement("ul",{className:"tOsmK0"},E.map((function(e,t){return c.createElement("li",{key:t},c.createElement("span",null,e.title),c.createElement("span",null,e.value))}))))}}}]);